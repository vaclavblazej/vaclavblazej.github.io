<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>
        
            Bash cheetsheet - Homepage of Vašek
        
    </title>
    <meta name="description" content="Homepage of Vašek">
    <meta name="author" content="Václav Blažej">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link href="https://vaclavblazej.github.io//font/fonts.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://vaclavblazej.github.io/css/fonts.css">

    
    <script src="https://vaclavblazej.github.io/js/custom.js"></script>
    <link rel="stylesheet" href="https://vaclavblazej.github.io/css/custom.css">

    <link rel="shortcut icon" href="https://vaclavblazej.github.io//favicon.ico" />

    

    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [ ['$','$'] ],
                displayMath: [ ["\\[","\\]"] ],
                processEscapes: true,
                autoload: {
                    color: [],
                    colorv2: ['color']
                },
                packages: {'[+]': ['noerrors']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process',
                renderActions: {
                    addMenu: [0, '', '']
                }
            },
            loader: {
                load: ['[tex]/noerrors']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>

    <script src="https://vaclavblazej.github.io/js/jquery.min.js" type="text/javascript"></script>

</head>
<body>

<div class="header noprint">
    
    <div class="desktop nav-menu">
        <a href="https://vaclavblazej.github.io/" class="site-title pad">Homepage of Vašek</a>
        <ul>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/">Material</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/post/">Blog</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/teaching/">Teaching</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/pub/">Research</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="mobile nav-menu">
        <a href="https://vaclavblazej.github.io/" class="site-title pad">Homepage of Vašek</a>
        <a href="#" id="toggle-btn">&#9776;</a>
    </div>
    <div>
        <ul id="toggle-content" style="display:none;">
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/">Material</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/post/">Blog</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/teaching/">Teaching</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/pub/">Research</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/about/">About</a>
            </li>
            
        </ul>
    </div>
</div>



<div class="content">
    
    <div class="post">
        <div class="post-title">
            <p class="footnote">
                


    <time datetime="2015-11-23T00:00:00Z" class="post-list timeago">23.11.2015</time>






    |



    tags:[ <a href="https://vaclavblazej.github.io/tags/system">system</a> <a href="https://vaclavblazej.github.io/tags/script">script</a> ]






            </p>
            <h1>Bash cheetsheet</h1>

            

        </div>
        <div class="post-content">
            <h2 id="what-to-use">What to use</h2>
<p>Use may want to use <strong>shellcheck</strong> program to check beginner mistakes.</p>
<p>The script should start with a shebang line <code>#!/usr/bin/env bash</code></p>
<p>To make the script runnable use <code>chmod u+x ./script.sh</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#008080">system_name</span><span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">$(</span>uname<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">script_path</span><span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">$(</span>realpath <span style="color:#008080">$0</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#008080">$#</span> -eq <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">then</span> <span style="color:#0086b3">echo</span> <span style="color:#d14">&#34;usage: ...&#34;</span>; <span style="color:#000;font-weight:bold">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#compare numbers using -eq -ne -lt -le -gt -ge</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#compare strings using = != &lt; &lt;= &gt; &gt;=</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#008080">$#</span> -ne <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">do</span> shift; <span style="color:#000;font-weight:bold">done</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#remove the first argument with shift</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">array</span><span style="color:#000;font-weight:bold">=(</span> <span style="color:#d14">&#39;a&#39;</span> <span style="color:#d14">&#39;b&#39;</span> <span style="color:#d14">&#39;c d&#39;</span> <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">echo</span> <span style="color:#d14">&#34;Array of </span><span style="color:#d14">${#</span><span style="color:#008080">array</span>[@]<span style="color:#d14">}</span><span style="color:#d14"> contains: </span><span style="color:#d14">${</span><span style="color:#008080">array</span>[*]<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> element in <span style="color:#d14">&#34;</span><span style="color:#d14">${</span><span style="color:#008080">array</span>[@]<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>; <span style="color:#000;font-weight:bold">do</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">echo</span> <span style="color:#d14">&#34;Value: </span><span style="color:#008080">$element</span><span style="color:#d14">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span>   <span style="color:#000;font-weight:bold">[</span> <span style="color:#d14">&#34;</span><span style="color:#008080">$element</span><span style="color:#d14">&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;c d&#34;</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">then</span> break;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">elif</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#d14">&#34;</span><span style="color:#008080">$element</span><span style="color:#d14">&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;a&#34;</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">then</span> <span style="color:#000;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">echo</span> <span style="color:#d14">&#34;Only the element &#39;b&#39; is printed here&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">done</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">unset</span> array
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">[</span> -f <span style="color:#d14">&#34;file.txt&#34;</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">then</span> cat <span style="color:#d14">&#34;file.txt&#34;</span>; <span style="color:#000;font-weight:bold">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#-f file, -d directory, -z variable ... is defined?</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">function</span> verbose <span style="color:#000;font-weight:bold">{</span> <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#d14">&#34;</span><span style="color:#008080">$v</span><span style="color:#d14">&#34;</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#000;font-weight:bold">then</span> color <span style="color:#d14">&#39;note&#39;</span> <span style="color:#d14">&#34;</span><span style="color:#008080">$@</span><span style="color:#d14">&#34;</span>; <span style="color:#000;font-weight:bold">fi</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">exit</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#abandon script</span>
</span></span></code></pre></div><p><a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/index.html"target="_blank">Manual<span style="white-space: nowrap;">&thinsp;↗</span></a>
pages on:
<a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_07_01.html"target="_blank">If<span style="white-space: nowrap;">&thinsp;↗</span></a>
<a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_07_03.html"target="_blank">Case<span style="white-space: nowrap;">&thinsp;↗</span></a>
<a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_09_01.html"target="_blank">While<span style="white-space: nowrap;">&thinsp;↗</span></a></p>
<h2 id="do-not-use">Do not use</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#008080">res</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">`</span><span style="color:#0086b3">command</span> <span style="color:#d14">&#34;test&#34;</span><span style="color:#d14">`</span> <span style="color:#998;font-style:italic">#use res=$(command &#34;test&#34;)</span>
</span></span><span style="display:flex;"><span>. <span style="color:#d14">&#34;something.sh&#34;</span> <span style="color:#998;font-style:italic">#use source &#34;something.sh&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#d14">&#34;</span><span style="color:#008080">$a</span><span style="color:#d14">&#34;</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;test&#34;</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#998;font-style:italic">#use = to compare strings</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#008080">$a</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#008080">$b</span> <span style="color:#000;font-weight:bold">]</span>; <span style="color:#998;font-style:italic">#use [ $a ] &amp;&amp; [ $b ];</span>
</span></span></code></pre></div><h2 id="zdroje">Zdroje</h2>
<ul>
<li><a href="http://linuxconfig.org/bash-scripting-tutorial"target="_blank">Návod (EN)<span style="white-space: nowrap;">&thinsp;↗</span></a></li>
<li><a href="https://shiroyasha.svbtle.com/escape-sequences-a-quick-guide-1"target="_blank">Escape sequence<span style="white-space: nowrap;">&thinsp;↗</span></a></li>
</ul>

        </div>
    </div>
</div>

<div class="footer">
    <ul class="pad-content">

        <li>
            © Václav Blažej
            
                2015
            
        </li>
        

        

        
    </ul>
    <ul title="Last update of the website" class="pull-right pad">1. September 2024</ul>
</div>

<script type="text/javascript">
    $("#toggle-btn").click(function(){
        $("#toggle-content").toggle();
        if($(this).html() === "☰") {
            $(this).html("X")
        } else {
            $(this).html("☰")
        }
    });
    $(window).resize(function(){
        if(window.innerWidth > 768) {
            $(".desktop").removeAttr("style");
        }
    });
</script>
</body>
</html>

