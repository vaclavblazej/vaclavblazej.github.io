<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>
        
            Klávesnice - Homepage of Vašek
        
    </title>
    <meta name="description" content="Homepage of Vašek">
    <meta name="author" content="Václav Blažej">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link href="https://vaclavblazej.github.io//font/fonts.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://vaclavblazej.github.io/css/fonts.css">

    
    <script src="https://vaclavblazej.github.io/js/custom.js"></script>
    <link rel="stylesheet" href="https://vaclavblazej.github.io/css/custom.css">

    <link rel="shortcut icon" href="https://vaclavblazej.github.io//favicon.ico" />

    

    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [ ['$','$'] ],
                displayMath: [ ["\\[","\\]"] ],
                processEscapes: true,
                autoload: {
                    color: [],
                    colorv2: ['color']
                },
                packages: {'[+]': ['noerrors']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process',
                renderActions: {
                    addMenu: [0, '', '']
                }
            },
            loader: {
                load: ['[tex]/noerrors']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>

    <script src="https://vaclavblazej.github.io/js/jquery.min.js" type="text/javascript"></script>

</head>
<body>

<div class="header noprint">
    
    <div class="desktop nav-menu">
        <a href="https://vaclavblazej.github.io/" class="site-title pad">Homepage of Vašek</a>
        <ul>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/">Material</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/post/">Blog</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/teaching/">Teaching</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/pub/">Research</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="mobile nav-menu">
        <a href="https://vaclavblazej.github.io/" class="site-title pad">Homepage of Vašek</a>
        <a href="#" id="toggle-btn">&#9776;</a>
    </div>
    <div>
        <ul id="toggle-content" style="display:none;">
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/">Material</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/post/">Blog</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/teaching/">Teaching</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/pub/">Research</a>
            </li>
            
            <li class="pad-vertically">
                <a class="pad" href="https://vaclavblazej.github.io/about/">About</a>
            </li>
            
        </ul>
    </div>
</div>



<div class="content">
    
    <div class="post">
        <div class="post-title">
            <p class="footnote">
                


    <time datetime="2017-05-08T00:00:00Z" class="post-list timeago">08.05.2017</time>






    |



    tags:[ <a href="https://vaclavblazej.github.io/tags/system">system</a> <a href="https://vaclavblazej.github.io/tags/setup">setup</a> ]






            </p>
            <h1>Klávesnice</h1>

            

        </div>
        <div class="post-content">
            <h2 id="jak-nastavit-klávesnici-bez-přepínání---unix">Jak nastavit klávesnici? (bez přepínání - Unix)</h2>
<p>Programovat na české klávesnici je zlo.
Programovat na české qwerty už je trochu lepší.
Programovat na jedné klávesnici, která je schopná psát vše co chci &hellip; je ultimátní.</p>
<p>Potřebujete mít: program setxkbmap</p>
<p>Překvapivě, některým developerům nejsou češi ukradení, tak udělali us(cz_sk_de) klávesnici.
Ty lze nastavit buď jednorázově pomocí</p>
<pre><code>setxkbmap -layout 'us' -variant 'cz_sk_de'
setxkbmap -option &quot;lv3:caps_switch&quot;
</code></pre>
<p>nebo permanentně úpravou souboru <code>/etc/default/keyboard</code> na</p>
<pre><code># KEYBOARD CONFIGURATION FILE
# Consult the keyboard(5) manual page.
XKBMODEL=&quot;pc105&quot;
XKBLAYOUT=&quot;us&quot;
XKBVARIANT=&quot;cz_sk_de&quot;
XKBOPTIONS=&quot;lv3:caps_switch&quot;
BACKSPACE=&quot;guess&quot;
</code></pre>
<h2 id="použití">Použití</h2>
<p>Je to běžná US klávesnice, až na to, že pod AltGr (pravý alt) je sada českých znaků.
Mapování vypadá takto.</p>
<p>Normálně, se Shift, AltGr, a Shift s AltGr:</p>
<pre><code>1234567890-=    !@#$%^&amp;*()_+
qwertyuiop[]    QWERTYUIOP{}
asdfghjkl;'\    ASDFGHJKL:&quot;|
zxcvbnm,./      ZXCVBNM&lt;&gt;?

úěščřžýáíéß´    ÚĚŠČŘŽÝÁÍÉẞˇ
qw€řťýůíóôü]    QWÉŘŤÝŮÍÓÔÜ}
ášďfghjkľöä\    ÁŠĎFGHJKĽÖÄ|
žxčvbňm,./      ŽXČVBŇM&lt;&gt;?
</code></pre>
<p>Soubor s tímto mapováním je v souboru:</p>
<pre><code>/usr/share/X11/xkb/symbols/us
</code></pre>
<h2 id="vylepšení">Vylepšení</h2>
<p>AltGr je poměrně špatně dostupá klávesa, a je dobré mít alternativu pro druhou ruku.
Tak nastavíme (docela zbytečnou klávesu) CapsLock na AltGr.
Je potřeba přidat tento příkaz do scriptů při spuštění.</p>
<pre><code>setxkbmap -option &quot;lv3:caps_switch&quot;
</code></pre>
<p>To lze vrátit na výchozí nastavení pomocí: setxkbmap -option</p>
<p>Dále doporučuji pozměnit soubor s klávesami ještě více, a upravit klávesy Q W E tak, aby šly psát i znaky ú, ě, é psát bez použití horních kláves.</p>
<pre><code>key &lt;AD01&gt;  { [ q, Q, uacute, Uacute ] };
key &lt;AD02&gt;  { [ w, W, ecaron, Ecaron ] };
key &lt;AD03&gt;	{ [ e, E, eacute, Eacute ] };
</code></pre>
<p>Upravené mapování:</p>
<pre><code>1234567890-=    !@#$%^&amp;*()_+
qwertyuiop[]    QWERTYUIOP{}
asdfghjkl;'\    ASDFGHJKL:&quot;|
zxcvbnm,./      ZXCVBNM&lt;&gt;?

úěščřžýáíéß´    ÚĚŠČŘŽÝÁÍÉẞˇ
úěéřťýůíóôü]    ÚĚÉŘŤÝŮÍÓÔÜ}
ášďfghjkľöä\    ÁŠĎFGHJKĽÖÄ|
žxčvbňm,./      ŽXČVBŇM&lt;&gt;?
</code></pre>
<p>Soubor s úpravami bude vypadat takto: <a href="./us">us(cz_sk_de) file</a></p>
<h2 id="vypnout-caps-lock">Vypnout CAPS LOCK</h2>
<p>Když je zaplý caps lock po přechodu na klávesnici bez Caps-Locku, tak lze vypnout takto.</p>
<pre><code>xdotool key Caps_Lock
</code></pre>
<h2 id="old-bug">Old bug</h2>
<p>Ve starších verzích byl v systému <strong>bug</strong> <em>(Opraveno v ubuntu Zesty Zapus v 17.04!)</em> &ndash; tuto klávesnici nešlo nastavit z terminálu, ale přepisem souboru:</p>
<pre><code>/usr/share/X11/xkb/symbols/us
</code></pre>
<p>kde jsme upravili &ldquo;cz_sk_de&rdquo; (ke konci souboru) a na &ldquo;czskde&rdquo; (podtržítka dělali problém).</p>
<pre><code>cz_sk_de -&gt; czskde
</code></pre>
<p>Potom už šlo klávesnici nastaivt.</p>
<pre><code>setxkbmap -layout 'us' -variant 'czskde'
</code></pre>

        </div>
    </div>
</div>

<div class="footer">
    <ul class="pad-content">

        <li>
            © Václav Blažej
            
                2017
            
        </li>
        

        

        
    </ul>
    <ul title="Last update of the website" class="pull-right pad">15. August 2024</ul>
</div>

<script type="text/javascript">
    $("#toggle-btn").click(function(){
        $("#toggle-content").toggle();
        if($(this).html() === "☰") {
            $(this).html("X")
        } else {
            $(this).html("☰")
        }
    });
    $(window).resize(function(){
        if(window.innerWidth > 768) {
            $(".desktop").removeAttr("style");
        }
    });
</script>
</body>
</html>

