\documentclass{standalone}
\usepackage{tikz}
\begin{document}
\begin{tikzpicture}[draw=green,fill=blue,very thick]
\draw[black] (0,-.1) -- (.3,1.2);

\filldraw[opacity=1]  (0,.8) rectangle ++(.3,.3);
\filldraw[opacity=.5] (0,.4) rectangle ++(.3,.3);
\begin{scope}[opacity=.5,transparency group]
    \filldraw (0,0) rectangle ++(.3,.3);
\end{scope}

\end{tikzpicture}
\end{document}
